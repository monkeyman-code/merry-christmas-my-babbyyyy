<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas Baby!</title>
    <style>
        :root {
            --dark-color: #000;
            --petal-light: #ffb7c5;
            --petal-main: #ff8fab;
            --petal-dark: #fb6f92;
            --stem-color: #2d6a4f;
            --paper-color: #fff0f5;
        }

        body {
            margin: 0;
            background: #000;
            overflow: hidden;
            font-family: 'Georgia', serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1;
            opacity: 0;
            transition: opacity 2s ease;
            pointer-events: none;
        }

        /* --- Trigger Button --- */
        #trigger-box {
            position: relative;
            z-index: 100;
            padding: 20px 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--petal-dark);
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.5s ease;
            border-radius: 50px;
            box-shadow: 0 0 20px rgba(251, 111, 146, 0.4);
            letter-spacing: 2px;
        }

        #trigger-box:hover {
            background: rgba(251, 111, 146, 0.3);
            transform: scale(1.1);
        }

        /* --- The Letter --- */
        #letter {
            position: absolute;
            top: 45%;
            z-index: 110;
            width: 350px;
            padding: 35px;
            background: var(--paper-color);
            color: #333;
            text-align: center;
            border-radius: 15px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.8);
            transform: translate(0, -50%) scale(0);
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none;
            border: 2px solid var(--petal-light);
        }

        .show-letter #letter { transform: translate(0, -50%) scale(1); opacity: 1; pointer-events: auto; }
        .show-letter #trigger-box { display: none; }
        .show-letter canvas { opacity: 1; pointer-events: auto; }

        h2 { color: var(--petal-dark); margin-top: 0; font-family: 'Brush Script MT', cursive; font-size: 2.5rem; }
        .letter-text { line-height: 1.6; font-size: 1.1rem; color: #333; font-style: italic; }

        /* --- Flowers Styling (Positioned Closer) --- */
        .flowers-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
            display: none; 
        }
        .show-letter .flowers-container { display: block; }

        .flowers {
            position: absolute;
            bottom: 0;
            transform: scale(0.85);
            width: 20vmin;
            height: 100%;
        }
        /* Adjusted from 5% to 18% to bring them closer to center */
        .flowers-left { left: 18%; }
        .flowers-right { right: 18%; transform: scale(0.85) scaleX(-1); }

        .flower { position: absolute; bottom: 10vmin; transform-origin: bottom center; }
        .flower--1 { animation: moving-flower-1 4s linear infinite; }
        .flower--2 { transform: rotate(20deg); animation: moving-flower-2 4s linear infinite; }
        .flower--3 { transform: rotate(-15deg); animation: moving-flower-3 4s linear infinite; }

        .flower__leafs { position: relative; animation: blooming-flower 2s backwards; }
        .flower__leaf {
            position: absolute; bottom: 0; left: 50%; width: 8vmin; height: 11vmin;
            border-radius: 51% 49% 47% 53%/44% 45% 55% 69%;
            background-color: var(--petal-light);
            background-image: linear-gradient(to top, var(--petal-main), var(--petal-light));
            transform-origin: bottom center; opacity: 0.9;
            box-shadow: inset 0 0 2vmin rgba(255,255,255,0.5);
        }
        .flower__leaf--1 { transform: translate(-10%,1%) rotateY(40deg) rotateX(-50deg); }
        .flower__leaf--2 { transform: translate(-50%,-4%) rotateX(40deg); }
        .flower__leaf--3 { transform: translate(-90%,0%) rotateY(45deg) rotateX(50deg); }
        .flower__leaf--4 {
            width: 8vmin; height: 8vmin; transform-origin: bottom left; border-radius: 4vmin 10vmin 4vmin 4vmin;
            transform: translate(-0%,18%) rotateX(70deg) rotate(-43deg);
            background-image: linear-gradient(to top, var(--petal-dark), var(--petal-light)); z-index: 1;
        }
        .flower__white-circle { position: absolute; left: -3.5vmin; top: -3vmin; width: 9vmin; height: 4vmin; border-radius: 50%; background-color: #fff; z-index: 2; }
        .flower__white-circle::after { content:""; position: absolute; left: 50%; top: 45%; transform: translate(-50%,-50%); width: 60%; height: 60%; border-radius: inherit; background-image: linear-gradient(90deg,#ffcc00,#ff9900); }
        .flower__line { height: 55vmin; width: 1.5vmin; background-image: linear-gradient(to top,transparent 10%,#1b4332,var(--stem-color)); animation: grow-flower-tree 4s backwards; }

        @keyframes blooming-flower { 0% { transform: scale(0); } }
        @keyframes grow-flower-tree { 0% { height: 0; } }
        @keyframes moving-flower-1 { 0%,100% { transform: rotate(2deg); } 50% { transform: rotate(-2deg); } }
        @keyframes moving-flower-2 { 0%,100% { transform: rotate(18deg); } 50% { transform: rotate(14deg); } }
        @keyframes moving-flower-3 { 0%,100% { transform: rotate(-18deg); } 50% { transform: rotate(-20deg); } }
    </style>
</head>
<body id="main-container">

    <div id="trigger-box">Click for a Surprise</div>

    <div id="letter">
        <h2>Merry Christmas Baby</h2>
        <p class="letter-text">I love you so much babbbbyyy merry christmas! Since I can't give you a gift in person right now, here is a little something for you. You're the best gift that God ever gave me and I'm so proud of you.</p>
        <div style="font-size: 30px; margin-top: 20px;">üéÑ‚ù§Ô∏è‚ú®</div>
    </div>

    <div class="flowers-container">
        <div class="flowers flowers-left">
            <div class="flower flower--1"><div class="flower__leafs"><div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div></div><div class="flower__line"></div></div>
            <div class="flower flower--2"><div class="flower__leafs"><div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div></div><div class="flower__line"></div></div>
            <div class="flower flower--3"><div class="flower__leafs"><div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div></div><div class="flower__line"></div></div>
        </div>
        <div class="flowers flowers-right">
            <div class="flower flower--1"><div class="flower__leafs"><div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div></div><div class="flower__line"></div></div>
            <div class="flower flower--2"><div class="flower__leafs"><div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div></div><div class="flower__line"></div></div>
            <div class="flower flower--3"><div class="flower__leafs"><div class="flower__leaf flower__leaf--1"></div><div class="flower__leaf flower__leaf--2"></div><div class="flower__leaf flower__leaf--3"></div><div class="flower__leaf flower__leaf--4"></div><div class="flower__white-circle"></div></div><div class="flower__line"></div></div>
        </div>
    </div>

    <canvas id="fireworks"></canvas>

<script>
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    const trigger = document.getElementById('trigger-box');
    const container = document.getElementById('main-container');
    
    let particles = [];
    let stars = [];
    let shootingStars = [];
    let isStarted = false;

    trigger.addEventListener('click', () => {
        container.classList.add('show-letter');
        isStarted = true;
    });

    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        initStars();
    }

    function initStars() {
        stars = [];
        for (let i = 0; i < 400; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 1.5,
                twinkle: Math.random() * 0.05
            });
        }
    }

    class ShootingStar {
        constructor() { this.reset(); }
        reset() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * (canvas.height / 2);
            this.len = (Math.random() * 80) + 50;
            this.speed = (Math.random() * 10) + 5;
            this.opacity = 1;
        }
        update() {
            this.x += this.speed;
            this.y += this.speed / 2;
            this.opacity -= 0.01;
            if (this.opacity <= 0) this.reset();
        }
        draw() {
            ctx.save();
            ctx.strokeStyle = `rgba(255, 255, 255, ${this.opacity})`;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(this.x, this.y);
            ctx.lineTo(this.x - this.len, this.y - (this.len / 2));
            ctx.stroke();
            ctx.restore();
        }
    }

    class Particle {
        constructor(x, y, color, vx, vy) {
            this.x = x; this.y = y; this.color = color;
            this.velocity = { x: vx, y: vy };
            this.opacity = 1;
            this.friction = 0.95; 
            this.gravity = 0.08;   
        }
        draw() {
            ctx.save();
            ctx.globalAlpha = this.opacity;
            ctx.beginPath();
            ctx.arc(this.x, this.y, 2.2, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            ctx.shadowBlur = 12;
            ctx.shadowColor = this.color;
            ctx.fill();
            ctx.restore();
        }
        update() {
            this.velocity.x *= this.friction;
            this.velocity.y *= this.friction;
            this.velocity.y += this.gravity;
            this.x += this.velocity.x;
            this.y += this.velocity.y;
            this.opacity -= 0.012; 
        }
    }

    function createHeart(x, y) {
        if (!isStarted) return;
        const hue = Math.floor(Math.random() * 40) + 330; 
        const color = `hsl(${hue}, 100%, 75%)`;
        for (let i = 0; i < 110; i++) {
            const t = (i / 110) * Math.PI * 2;
            const targetX = 16 * Math.pow(Math.sin(t), 3);
            const targetY = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            particles.push(new Particle(x, y, color, targetX * 0.65, targetY * 0.65));
        }
    }

    function animate() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        stars.forEach(star => {
            const op = 0.4 + Math.abs(Math.sin(Date.now() * star.twinkle) * 0.6);
            ctx.globalAlpha = op;
            ctx.fillStyle = "white";
            ctx.beginPath(); ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2); ctx.fill();
        });

        if (isStarted) {
            shootingStars.forEach(s => { s.update(); s.draw(); });
        }

        particles = particles.filter(p => p.opacity > 0);
        particles.forEach(p => { p.update(); p.draw(); });

        requestAnimationFrame(animate);
    }

    shootingStars.push(new ShootingStar());
    setTimeout(() => shootingStars.push(new ShootingStar()), 2000);

    window.addEventListener('mousedown', (e) => {
        if (isStarted && !document.getElementById('letter').contains(e.target)) {
            createHeart(e.clientX, e.clientY);
        }
    });

    window.addEventListener('resize', resize);
    resize();
    animate();

    setInterval(() => {
        if (isStarted) {
            createHeart(Math.random() * canvas.width, Math.random() * (canvas.height * 0.4));
        }
    }, 1800);
</script>
</body>
</html>
